# Time Series Decomposition — Forecasting Engineering

Repository README (English)
Project author: Vu Dinh Chung
Course: Forecasting Engineering — Instructor: Dr. Nguyen Vang Phuc Nguyen

---

## 1. Project overview

This repository contains a time-series decomposition analysis of monthly average daily temperature (1981–2021) and a second assignment decomposing Toyota petrol car registrations by vehicle type (Sedan, MPV, SUV). The main goals:

 Decompose series into Trend, Seasonal, and Irregular components.
 Compute seasonal indices (MA-centered and Minitab decomposition).
 Deseasonalize the series and examine the deseasonalized plot.
 Generate 10-month forecasts for 2021 using decomposition.
 Compare additive vs multiplicative modelling choices and discuss implications.
 Provide reproducible steps (Minitab) and summary results.

This README summarizes everything performed (method, files, results, and instructions to reproduce).

---

## 2. Data files included

 `Probs_1_Dataset_monthly.xlsx` — Monthly average daily temperature (1981–2021).
 `Vu_Dinh_Chung_2210393_Minitab_L03_2024.mpx` (+ `.mpx.bak`) — Minitab project used for analysis.
 `Vu_Dinh_Chung_2210393_Report_L03_2024.docx` — Full report (source for README content).
 Assignment 2 datasets:

   `Toyota_petrol_sedan.csv`
   `toyota_petrol_MPV.csv`
   `toyota_petrol_SUV.csv`
   `Toyota_petrol_sedan_MPV_SUV.xlsx`
 Figures exported from Minitab (example): `SEAS1.png`, `DESE1.png` (if present in `figures/`).

---

## 3. Objectives and decisions

 Seasonal period: 12 (monthly data → 12 months/year).
 Model choice for temperature: Additive decomposition (seasonal amplitude is roughly constant across time).
 For the Toyota registrations: model choice depends on vehicle type — Sedan & SUV → additive; MPV → multiplicative (based on amplitude behavior).

---

## 4. Key results (selected)

### Seasonal component (additive) — extracted seasonal indices (temperature)

```
Period:  1      2      3      4      5      6      7      8      9      10     11     12
Index: -5.2526 -5.2943 -3.4693 -1.2568 1.4557 4.3016 6.3203 6.3724 3.8849 0.5391 -2.7734 -4.8276
```

### Seasonal component (multiplicative) — for reference

```
Period:  1       2       3       4       5       6       7       8       9       10      11      12
Index: 0.51113 0.47977 0.64780 0.87978 1.14548 1.41002 1.61332 1.60805 1.39446 1.04931 0.72969 0.53118
```

### Forecasts (10 months for remaining 2021, generated by Minitab decomposition)

```
FORE2 (10 months): 
6.8948, 9.1076, 11.8205, 14.6666, 16.6857, 16.7382, 14.2510, 10.9055, 7.5934, 5.5396
```

---

## 5. Interpretation of the two key plots

### A — `Time Series Plot of SEAS1` (seasonal component)

 Observation: Clear, regular seasonal cycle repeating every 12 months. Amplitude is fairly stable. Peaks appear around June–August (summer), troughs around November–December (winter).
 Implication: The extracted seasonal pattern is strong and stable → supports using an additive decomposition (seasonal effect independent of level). This component can be directly used for deseasonalizing and applying seasonal adjustments in downstream analyses.

### B — `Time Series Plot of DESE1` (deseasonalized series)

 Observation: After removing the seasonal component, the series fluctuates around a mean ≈ 10. The regular yearly cycle is gone. There are some pronounced deviations (e.g., a deep dip around indices \~135–160 and a spike around \~185–200).
 Implication: `DESE1` shows trend + irregular behavior without seasonal repetition. Use `DESE1` to:

   Examine long-term trend (if present) and structural changes.
   Build residual/ARIMA models on deseasonalized residuals if required.
   Detect outliers or unusual events that are not season-driven.

---

## 6. Diagnostic checks performed

 Autocorrelation (ACF) computed for fits/residuals.
 Ljung–Box Q test reported (example from report: Q for lag 12 ≈ 1531.16).

   Note: A Q-statistic that large (relative to χ²(12) ≈ 21.026) typically indicates significant autocorrelation. The original report text contains a phrasing discrepancy regarding the Ljung–Box interpretation — please re-run/verify when reproducing (we recommend checking residuals and re-evaluating model assumptions).

---

## 7. Reproducible steps (Minitab)

To reproduce the decomposition and plots in Minitab:

1. Open `Probs_1_Dataset_monthly.xlsx` in Minitab. Ensure the series is in a single column (monthly sequence).
2. (Optional) Compute centered moving average (CMA12):
   `Stat → Time Series → Moving Average...` → Variable = your series, MA length = 12, check `Center the moving averages`. Store Moving Average.
3. Deseasonalization via MA method (if using Excel): compute seasonal indices as `Actual / CMA`, average by month and adjust multipliers to normalize totals (report computed a multiplier ≈ 0.996578).
4. Direct decomposition (preferred here):
   `Stat → Time Series → Decomposition`

    Variable: Average-daily-temperature-month
    Seasonal length: 12
    Model Type: Additive
    Model Components: Trend plus seasonal
    Storage: choose Trend line, Seasonals, Deseasonalized (DESE1), Forecasts (if needed)
    (If forecasting) tick `Generate forecasts` → Number = 10 → Origin = final in-sample observation index used in report (266).
5. Plot seasonal component: `Graph → Time Series Plot` using stored Seasonals (SEAS1).
6. Plot deseasonalized series: Time Series Plot of DESE1.
7. Check diagnostics: `Stat → Time Series → Autocorrelation` (for residuals/fits), review Ljung–Box statistics.

---

## 8. Notes, caveats & recommendations

 Model selection (additive vs multiplicative): choose additive when seasonal amplitude is constant; multiplicative when amplitude scales with level. For the temperature dataset additive is appropriate.
 Ljung–Box interpretation: re-check the reported numeric conclusion in the source report; the Q value vs χ² critical value must be interpreted carefully.
 Further modelling suggestions: if residuals retain autocorrelation, consider SARIMA or fitting ARIMA on deseasonalized residuals; alternatively try ETS or state-space seasonal models.
 Automation: consider re-implementing the pipeline in Python or R for reproducibility (data ingestion → CMA → compute SI → deseasonalize → fit trend → forecast → diagnostics).


=
